import{_ as f,u as y,e as _,f as c,o as a,c as n,a as t,h as d,q as p,F as k,i as S,b as A,t as u,p as w,l as C}from"./index-865bb9d6.js";const V={data(){return{authStore:y()}},methods:{deleteApartment(e){_.delete("/api/v1/apartment/delete/"+e.id).then(o=>{o.data.success&&this.authStore.getUsersWithApt()}).catch(o=>console.log)},async toggleVisibility(e){try{await _.get(`/api/v1/apartment/${e}/visibility`)}catch(o){console.log(o)}}},mounted(){this.authStore.getUsersWithApt()}},i=e=>(w("data-v-b498b3a5"),e=e(),C(),e),I={class:"dashboard d-flex"},L={class:"left col-7"},M={class:"container"},N={class:"box"},$=i(()=>t("div",{class:"box-header text-center my-4"},[t("h2",null,"Lista Appartamenti")],-1)),B={class:"box-body"},D=i(()=>t("a",{href:"#",class:"btn btn-primary text-uppercase rounded-pill shadow-sm d-inline-block"},"Aggiungi appartamento",-1)),E={key:0,class:"apartments-list"},F={class:"apartment-item"},R={class:"d-flex align-items-center justify-content-between"},U={class:"apartment-title"},W={class:"d-flex align-items-center"},j=["onClick"],q=i(()=>t("button",{class:"edit-button btn btn-primary text-uppercase rounded-pill shadow-sm p-1 mx-1"}," Modifica ",-1)),z=["onClick"],G=i(()=>t("div",{class:"right col-5"},null,-1));function H(e,o,h,m,l,r){const b=c("RouterLink"),v=c("router-link"),x=c("Map");return a(),n("div",I,[t("div",L,[t("div",M,[t("div",N,[$,t("div",B,[d(b,{to:{name:"addApt"}},{default:p(()=>[D]),_:1}),l.authStore.apartments?(a(),n("ul",E,[(a(!0),n(k,null,S(l.authStore.apartments,s=>(a(),n("li",F,[t("div",R,[t("span",U,u(s.title),1),t("div",W,[t("button",{class:"delete-button btn btn-primary text-uppercase rounded-pill shadow-sm p-1 mx-1",onClick:g=>r.deleteApartment(s)}," Elimina ",8,j),d(v,{class:"edit-link",to:{name:"editApt",params:{id:`${s.id}`}}},{default:p(()=>[q]),_:2},1032,["to"]),t("button",{class:"visible-button btn btn-primary text-uppercase rounded-pill shadow-sm p-1 mx-1",onClick:g=>r.toggleVisibility(s.id)},u(s.visible?"Nascondi":"Mostra"),9,z)])]),d(x,{address:s.address},null,8,["address"])]))),256))])):A("",!0)])])])]),G])}const K=f(V,[["render",H],["__scopeId","data-v-b498b3a5"]]);export{K as default};
