import{_,u as p,s as f,r as b,e as u,o as a,c as m,a as e,d as r,v as i,F as h,i as g,x as v,t as y,p as x,l as A}from"./index-44e9ec39.js";const k={data(){return{auth:p(),store:f,services:[],form:b({title:"",description:"",room_number:void 0,bed_number:void 0,bath_number:void 0,square_meters:void 0,address:"",latitude:void 0,longitude:void 0,img:"",additional_services:[]})}},methods:{async storeData(n){n.preventDefault(),this.store.getCoordinates(this.form.address),this.form.latitude=this.store.latitude,this.form.longitude=this.store.longitude,await this.auth.getToken();try{await u.post("/api/v1/apartment/store",this.form,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){console.log(o)}this.$router.push("/")},async getServices(){try{const n=await u.get("api/v1/services/all");this.services=n.data.response,console.log(this.services)}catch(n){console.log(n)}},onFileChange(n){const o=n.target.files[0];this.form.img=o}},mounted(){this.getServices()}},l=n=>(x("data-v-aa79d3c4"),n=n(),A(),n),V={key:0,class:"my-container"},w={method:"POST",class:"d-flex flex-wrap justify-content-around bg-white rounded-2 p-5"},C={class:"col-sm-11 col-md-5 col-lg-5"},S=l(()=>e("label",{for:"title"},"Title",-1)),U={class:"col-sm-11 col-md-5 col-lg-5"},D=l(()=>e("label",{for:"description"},"Description",-1)),N={class:"col-sm-11 col-md-5 col-lg-5"},T=l(()=>e("label",{for:"room_number"},"Room Number",-1)),q={class:"col-sm-11 col-md-5 col-lg-5"},B=l(()=>e("label",{for:"bed_number"},"Bed Number",-1)),F={class:"col-sm-11 col-md-5 col-lg-5"},I=l(()=>e("label",{for:"bath_number"},"Bath Number",-1)),E={class:"col-sm-11 col-md-5 col-lg-5"},M=l(()=>e("label",{for:"square_meters"},"Square Meters",-1)),O={class:"col-sm-11 col-md-5 col-lg-5"},P=l(()=>e("label",{for:"address"},"Address",-1)),R={class:"col-sm-11 col-md-5 col-lg-5"},L=l(()=>e("label",{for:"img"},"Image",-1)),j={class:"d-flex flex-wrap ms-services"},z=["id","value"],G=["for"],H={key:1,class:"autenticato"},J=l(()=>e("h1",{class:"text-danger"},"Non Autenticato",-1)),K=l(()=>e("h2",null,"Effettua il Login",-1)),Q=[J,K];function W(n,o,X,Y,s,d){return s.auth.user?(a(),m("section",V,[e("form",w,[e("div",C,[S,r(e("input",{type:"text",name:"title","onUpdate:modelValue":o[0]||(o[0]=t=>s.form.title=t)},null,512),[[i,s.form.title]])]),e("div",U,[D,r(e("input",{type:"text",name:"description","onUpdate:modelValue":o[1]||(o[1]=t=>s.form.description=t)},null,512),[[i,s.form.description]])]),e("div",N,[T,r(e("input",{type:"number",name:"room_number","onUpdate:modelValue":o[2]||(o[2]=t=>s.form.room_number=t)},null,512),[[i,s.form.room_number]])]),e("div",q,[B,r(e("input",{type:"number",name:"bed_number","onUpdate:modelValue":o[3]||(o[3]=t=>s.form.bed_number=t)},null,512),[[i,s.form.bed_number]])]),e("div",F,[I,r(e("input",{type:"number",name:"bath_number","onUpdate:modelValue":o[4]||(o[4]=t=>s.form.bath_number=t)},null,512),[[i,s.form.bath_number]])]),e("div",E,[M,r(e("input",{type:"number",name:"square_meters","onUpdate:modelValue":o[5]||(o[5]=t=>s.form.square_meters=t)},null,512),[[i,s.form.square_meters]])]),e("div",O,[P,r(e("input",{type:"text",name:"address","onUpdate:modelValue":o[6]||(o[6]=t=>s.form.address=t)},null,512),[[i,s.form.address]])]),e("div",R,[L,e("input",{type:"file",name:"img",onChange:o[7]||(o[7]=(...t)=>d.onFileChange&&d.onFileChange(...t))},null,32)]),e("div",j,[(a(!0),m(h,null,g(s.services.additional_service,t=>(a(),m("div",{key:t.id,class:"ms-col col-sm-12 col-md-3 col-lg-3 p-3"},[e("div",null,[r(e("input",{type:"checkbox",id:t.id,value:t.id,"onUpdate:modelValue":o[8]||(o[8]=c=>s.form.additional_services=c)},null,8,z),[[v,s.form.additional_services]]),e("label",{for:t.name},y(t.name),9,G)])]))),128)),e("input",{class:"button btn btn-block text-uppercase rounded-pill shadow-sm p-2 mt-3",onClick:o[9]||(o[9]=(...t)=>d.storeData&&d.storeData(...t)),type:"submit",value:"CREA NUOVO APPARTAMENTO"})])])])):(a(),m("section",H,Q))}const $=_(k,[["render",W],["__scopeId","data-v-aa79d3c4"]]);export{$ as default};
