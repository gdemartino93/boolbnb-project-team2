import{_,u as p,s as f,r as b,e as u,o as a,c as m,a as e,d as i,v as r,F as h,i as g,x as v,t as y,p as x,l as k,k as V}from"./index-09e82fe9.js";const A={data(){return{auth:p(),store:f,services:[],form:b({title:"",description:"",room_number:void 0,bed_number:void 0,bath_number:void 0,square_meters:void 0,address:"",latitude:void 0,longitude:void 0,img:"",additional_services:[]})}},methods:{async storeData(n){n.preventDefault(),this.store.getCoordinates(this.form.address),this.form.latitude=this.store.latitude,this.form.longitude=this.store.longitude,await this.auth.getToken();try{await u.post("/api/v1/apartment/store",this.form,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){console.log(o)}this.$router.push("/")},async getServices(){try{const n=await u.get("api/v1/services/all");this.services=n.data.response,console.log(this.services)}catch(n){console.log(n)}},onFileChange(n){const o=n.target.files[0];this.form.img=o}},mounted(){this.getServices()}},l=n=>(x("data-v-a397f37f"),n=n(),k(),n),w={key:0,class:"my-container"},C={method:"POST",class:"d-flex flex-wrap justify-content-around bg-white rounded-2 p-5"},N={class:"col-sm-11 col-md-5 col-lg-5"},U=l(()=>e("label",{for:"title"},"Nome",-1)),S={class:"col-sm-11 col-md-5 col-lg-5"},D=l(()=>e("label",{for:"description"},"Descrizione",-1)),T={class:"col-sm-11 col-md-5 col-lg-5"},F=l(()=>e("label",{for:"room_number"},"Numero di stanze",-1)),q={class:"col-sm-11 col-md-5 col-lg-5"},I=l(()=>e("label",{for:"bed_number"},"Numero di letti",-1)),z={class:"col-sm-11 col-md-5 col-lg-5"},E=l(()=>e("label",{for:"bath_number"},"Numero di bagni",-1)),O={class:"col-sm-11 col-md-5 col-lg-5"},B=l(()=>e("label",{for:"square_meters"},[V("m"),e("sup",null,"2")],-1)),M={class:"col-sm-11 col-md-5 col-lg-5"},P=l(()=>e("label",{for:"address"},"Indirizzo",-1)),L={class:"col-sm-11 col-md-5 col-lg-5"},R=l(()=>e("label",{for:"img"},"Foto",-1)),j={class:"d-flex flex-wrap ms-services"},G=["id","value"],H=["for"],J={key:1,class:"autenticato"},K=l(()=>e("h1",{class:"text-danger"},"Non Autenticato",-1)),Q=l(()=>e("h2",null,"Effettua il Login",-1)),W=[K,Q];function X(n,o,Y,Z,s,d){return s.auth.user?(a(),m("section",w,[e("form",C,[e("div",N,[U,i(e("input",{type:"text",name:"title","onUpdate:modelValue":o[0]||(o[0]=t=>s.form.title=t)},null,512),[[r,s.form.title]])]),e("div",S,[D,i(e("input",{type:"text",name:"description","onUpdate:modelValue":o[1]||(o[1]=t=>s.form.description=t)},null,512),[[r,s.form.description]])]),e("div",T,[F,i(e("input",{type:"number",name:"room_number","onUpdate:modelValue":o[2]||(o[2]=t=>s.form.room_number=t)},null,512),[[r,s.form.room_number]])]),e("div",q,[I,i(e("input",{type:"number",name:"bed_number","onUpdate:modelValue":o[3]||(o[3]=t=>s.form.bed_number=t)},null,512),[[r,s.form.bed_number]])]),e("div",z,[E,i(e("input",{type:"number",name:"bath_number","onUpdate:modelValue":o[4]||(o[4]=t=>s.form.bath_number=t)},null,512),[[r,s.form.bath_number]])]),e("div",O,[B,i(e("input",{type:"number",name:"square_meters","onUpdate:modelValue":o[5]||(o[5]=t=>s.form.square_meters=t)},null,512),[[r,s.form.square_meters]])]),e("div",M,[P,i(e("input",{type:"text",name:"address","onUpdate:modelValue":o[6]||(o[6]=t=>s.form.address=t)},null,512),[[r,s.form.address]])]),e("div",L,[R,e("input",{type:"file",name:"img",onChange:o[7]||(o[7]=(...t)=>d.onFileChange&&d.onFileChange(...t))},null,32)]),e("div",j,[(a(!0),m(h,null,g(s.services.additional_service,t=>(a(),m("div",{key:t.id,class:"ms-col col-sm-12 col-md-3 col-lg-3 p-3"},[e("div",null,[i(e("input",{type:"checkbox",id:t.id,value:t.id,"onUpdate:modelValue":o[8]||(o[8]=c=>s.form.additional_services=c)},null,8,G),[[v,s.form.additional_services]]),e("label",{for:t.name},y(t.name),9,H)])]))),128)),e("input",{class:"button btn btn-block text-uppercase rounded-pill shadow-sm p-2 mt-3",onClick:o[9]||(o[9]=(...t)=>d.storeData&&d.storeData(...t)),type:"submit",value:"CREA NUOVO APPARTAMENTO"})])])])):(a(),m("section",J,W))}const ee=_(A,[["render",X],["__scopeId","data-v-a397f37f"]]);export{ee as default};
