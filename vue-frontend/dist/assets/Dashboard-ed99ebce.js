import{_ as y,u as S,e as p,f as d,o as a,c as n,a as t,h as r,q as h,F as k,i as w,b as A,t as u,p as C,l as V}from"./index-09e82fe9.js";const I={data(){return{authStore:S(),isShow:!0}},methods:{deleteApartment(e){p.delete("/api/v1/apartment/delete/"+e.id).then(o=>{o.data.success&&this.authStore.getUsersWithApt()}).catch(o=>console.log)},async toggleVisibility(e,o){try{await p.get(`/api/v1/apartment/${o}/visibility`),this.authStore.apartments[e].isShow=!this.authStore.apartments[e].isShow}catch(c){console.log(c)}}},mounted(){this.authStore.getUsersWithApt()}},i=e=>(C("data-v-038125a3"),e=e(),V(),e),L={class:"dashboard d-flex"},M={class:"left col- col-lg-7"},N={class:"container"},$={class:"box"},B=i(()=>t("div",{class:"box-header text-center my-4"},[t("h2",null,"Lista Appartamenti")],-1)),D={class:"box-body"},E=i(()=>t("a",{href:"#",class:"btn btn-primary text-uppercase rounded-pill shadow-sm d-inline-block"},"Aggiungi appartamento",-1)),F={key:0,class:"apartments-list"},R={class:"apartment-item"},U={class:"d-flex align-items-center justify-content-between"},W={class:"apartment-title"},j={class:"d-flex align-items-center"},q=["onClick"],z=i(()=>t("button",{class:"edit-button btn btn-primary text-uppercase rounded-pill shadow-sm p-1 mx-1"}," Modifica ",-1)),G=["onClick"],H=i(()=>t("div",{class:"right col-5 d-none d-md-block"},null,-1));function J(e,o,c,m,l,_){const b=d("RouterLink"),v=d("router-link"),g=d("Map");return a(),n("div",L,[t("div",M,[t("div",N,[t("div",$,[B,t("div",D,[r(b,{to:{name:"addApt"}},{default:h(()=>[E]),_:1}),l.authStore.apartments?(a(),n("ul",F,[(a(!0),n(k,null,w(l.authStore.apartments,(s,x)=>(a(),n("li",R,[t("div",U,[t("span",W,u(s.title),1),t("div",j,[t("button",{class:"delete-button btn btn-primary text-uppercase rounded-pill shadow-sm p-1 mx-1",onClick:f=>_.deleteApartment(s)}," Elimina ",8,q),r(v,{class:"edit-link",to:{name:"editApt",params:{id:`${s.id}`}}},{default:h(()=>[z]),_:2},1032,["to"]),t("button",{class:"visible-button btn btn-primary text-uppercase rounded-pill shadow-sm p-1 mx-1",onClick:f=>_.toggleVisibility(x,s.id)},u(s.isShow?"Nascondi":"Mostra"),9,G)])]),r(g,{address:s.address},null,8,["address"])]))),256))])):A("",!0)])])])]),H])}const O=y(I,[["render",J],["__scopeId","data-v-038125a3"]]);export{O as default};
