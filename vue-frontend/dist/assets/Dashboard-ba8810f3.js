import{_ as v,u as y,e as p,f as l,o,c as a,a as t,t as d,h as r,q as u,F as x,j as A,b as w,p as S,l as M}from"./index-5e24f1a8.js";const C={data(){return{authStore:y()}},methods:{deleteApartment(s){p.delete("/api/v1/apartment/delete/"+s.id).then(i=>{i.data.success&&this.authStore.getUsersWithApt()}).catch(i=>console.log)},async toggleVisibility(s){try{await p.get(`/api/v1/apartment/${s}/visibility`)}catch(i){console.log(i)}}},mounted(){this.authStore.getUsersWithApt()}},n=s=>(S("data-v-8688b092"),s=s(),M(),s),I={class:"container my-4"},N={key:0,class:"dashboard-section"},V={class:"dashboard-title"},B=n(()=>t("a",{href:"#",class:"btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2"},"Aggiungi appartamento",-1)),D=n(()=>t("h3",{class:"apartments-title"},null,-1)),L={class:"main"},E={class:"row no-gutter"},$={class:"left col-md-12 col-lg-6"},H={key:0,class:"apartments-list"},R={class:"apartment-item"},T={class:"apartment-title w-100"},W=["onClick"],j=n(()=>t("button",{class:"edit-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2"},"Modifica",-1)),q=["onClick"],F=n(()=>t("div",{class:"right d-md-none d-lg-block col-lg-6"},[t("div",{class:"image"},[t("img",{src:"https://images.unsplash.com/photo-1583847268964-b28dc8f51f92?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"",class:"img-r"})])],-1)),G={key:1,class:"autenticato"},P=n(()=>t("h1",{class:"text-danger"},"Non Autenticato",-1)),U=n(()=>t("h2",null,"Effettua il Login",-1)),Y=[P,U];function z(s,i,h,m,c,_){const b=l("RouterLink"),g=l("router-link"),f=l("Map");return o(),a("div",I,[c.authStore.user?(o(),a("section",N,[t("h2",V,"LISTA APPARTAMENTI "+d(s.$route.params.id),1),r(b,{class:"add-apartment-link",to:{name:"addApt"}},{default:u(()=>[B]),_:1}),D,t("section",L,[t("div",E,[t("div",$,[c.authStore.apartments?(o(),a("ul",H,[(o(!0),a(x,null,A(c.authStore.apartments,e=>(o(),a("li",R,[t("span",T,d(e.title),1),t("button",{class:"delete-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2",onClick:k=>_.deleteApartment(e)},"Elimina",8,W),r(g,{class:"edit-link",to:{name:"editApt",params:{id:`${e.id}`}}},{default:u(()=>[j]),_:2},1032,["to"]),t("button",{class:"visible-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2",onClick:k=>_.toggleVisibility(e.id)},d(e.visible?"Nascondi":"Mostra"),9,q),r(f,{address:e.address},null,8,["address"])]))),256))])):w("",!0)]),F])])])):(o(),a("section",G,Y))])}const K=v(C,[["render",z],["__scopeId","data-v-8688b092"]]);export{K as default};
