import{_ as x,u as y,e as l,f as r,o as a,c as i,a as t,F as g,i as k,b as f,t as _,h as p,q as S,p as A,l as C}from"./index-985a822d.js";const w={data(){return{authStore:y()}},methods:{deleteApartment(e){l.delete("/api/v1/apartment/delete/"+e.id).then(o=>{o.data.success&&this.authStore.getUsersWithApt()}).catch(o=>console.log)},async toggleVisibility(e){try{await l.get(`/api/v1/apartment/${e}/visibility`)}catch(o){console.log(o)}}},mounted(){this.authStore.getUsersWithApt()}},n=e=>(A("data-v-5557445e"),e=e(),C(),e),V={class:"dashboard d-flex"},I={class:"left col-7"},M={class:"container"},N={class:"box"},$=n(()=>t("div",{class:"box-header text-center my-4"},[t("h2",null,"Lista Appartamenti")],-1)),B={class:"box-body"},D={key:0,class:"apartments-list"},E={class:"apartment-item"},F={class:"apartment-title"},L=["onClick"],U=n(()=>t("button",{class:"edit-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2"},"Modifica",-1)),W=["onClick"],q=n(()=>t("div",{class:"right col-5"},null,-1));function j(e,o,u,h,c,d){const b=r("router-link"),m=r("Map");return a(),i("div",V,[t("div",I,[t("div",M,[t("div",N,[$,t("div",B,[c.authStore.apartments?(a(),i("ul",D,[(a(!0),i(g,null,k(c.authStore.apartments,s=>(a(),i("li",E,[t("span",F,_(s.title),1),t("button",{class:"delete-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2",onClick:v=>d.deleteApartment(s)},"Elimina",8,L),p(b,{class:"edit-link",to:{name:"editApt",params:{id:`${s.id}`}}},{default:S(()=>[U]),_:2},1032,["to"]),t("button",{class:"visible-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2",onClick:v=>d.toggleVisibility(s.id)},_(s.visible?"Nascondi":"Mostra"),9,W),p(m,{address:s.address},null,8,["address"])]))),256))])):f("",!0)])])])]),q])}const G=x(w,[["render",j],["__scopeId","data-v-5557445e"]]);export{G as default};
