import{_,u as p,s as f,r as b,e as u,o as m,c as a,a as e,d as r,v as i,F as h,j as g,x as v,t as y,p as x,l as k}from"./index-5e24f1a8.js";const w={data(){return{auth:p(),store:f,services:[],form:b({title:"",description:"",room_number:void 0,bed_number:void 0,bath_number:void 0,square_meters:void 0,address:"",latitude:void 0,longitude:void 0,img:"",additional_services:[]})}},methods:{async storeData(n){n.preventDefault(),this.store.getCoordinates(this.form.address),this.form.latitude=this.store.latitude,this.form.longitude=this.store.longitude,await this.auth.getToken();try{await u.post("/api/v1/apartment/store",this.form,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){console.log(t)}this.$router.push("/")},async getServices(){try{const n=await u.get("api/v1/services/all");this.services=n.data.response,console.log(this.services)}catch(n){console.log(n)}},onFileChange(n){const t=n.target.files[0];this.form.img=t}},mounted(){this.getServices()}},l=n=>(x("data-v-f8590bd9"),n=n(),k(),n),C={key:0,class:"my-container"},S={method:"POST",class:"d-flex flex-wrap justify-content-around bg-white rounded-2 p-5"},V={class:"col-sm-11 col-md-5 col-lg-5"},A=l(()=>e("label",{for:"title"},"Title",-1)),U={class:"col-sm-11 col-md-5 col-lg-5"},D=l(()=>e("label",{for:"description"},"Description",-1)),q={class:"col-sm-11 col-md-5 col-lg-5"},N=l(()=>e("label",{for:"room_number"},"Room Number",-1)),B={class:"col-sm-11 col-md-5 col-lg-5"},F=l(()=>e("label",{for:"bed_number"},"Bed Number",-1)),I={class:"col-sm-11 col-md-5 col-lg-5"},T=l(()=>e("label",{for:"bath_number"},"Bath Number",-1)),M={class:"col-sm-11 col-md-5 col-lg-5"},j=l(()=>e("label",{for:"square_meters"},"Square Meters",-1)),E={class:"col-sm-11 col-md-5 col-lg-5"},L=l(()=>e("label",{for:"address"},"Address",-1)),O={class:"col-sm-11 col-md-5 col-lg-5"},P=l(()=>e("label",{for:"img"},"Image",-1)),R={class:"d-flex flex-wrap ms-services"},z=["id","value"],G=["for"],H={key:1,class:"autenticato"},J=l(()=>e("h1",{class:"text-danger"},"Non Autenticato",-1)),K=l(()=>e("h2",null,"Effettua il Login",-1)),Q=[J,K];function W(n,t,X,Y,s,d){return s.auth.user?(m(),a("section",C,[e("form",S,[e("div",V,[A,r(e("input",{type:"text",name:"title","onUpdate:modelValue":t[0]||(t[0]=o=>s.form.title=o)},null,512),[[i,s.form.title]])]),e("div",U,[D,r(e("input",{type:"text",name:"description","onUpdate:modelValue":t[1]||(t[1]=o=>s.form.description=o)},null,512),[[i,s.form.description]])]),e("div",q,[N,r(e("input",{type:"number",name:"room_number","onUpdate:modelValue":t[2]||(t[2]=o=>s.form.room_number=o)},null,512),[[i,s.form.room_number]])]),e("div",B,[F,r(e("input",{type:"number",name:"bed_number","onUpdate:modelValue":t[3]||(t[3]=o=>s.form.bed_number=o)},null,512),[[i,s.form.bed_number]])]),e("div",I,[T,r(e("input",{type:"number",name:"bath_number","onUpdate:modelValue":t[4]||(t[4]=o=>s.form.bath_number=o)},null,512),[[i,s.form.bath_number]])]),e("div",M,[j,r(e("input",{type:"number",name:"square_meters","onUpdate:modelValue":t[5]||(t[5]=o=>s.form.square_meters=o)},null,512),[[i,s.form.square_meters]])]),e("div",E,[L,r(e("input",{type:"text",name:"address","onUpdate:modelValue":t[6]||(t[6]=o=>s.form.address=o)},null,512),[[i,s.form.address]])]),e("div",O,[P,e("input",{type:"file",name:"img",onChange:t[7]||(t[7]=(...o)=>d.onFileChange&&d.onFileChange(...o))},null,32)]),e("div",R,[(m(!0),a(h,null,g(s.services.additional_service,o=>(m(),a("div",{key:o.id,class:"ms-col col-sm-12 col-md-3 col-lg-3 p-3"},[e("div",null,[r(e("input",{type:"checkbox",id:o.id,value:o.id,"onUpdate:modelValue":t[8]||(t[8]=c=>s.form.additional_services=c)},null,8,z),[[v,s.form.additional_services]]),e("label",{for:o.name},y(o.name),9,G)])]))),128)),e("input",{class:"button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2 mt-3",onClick:t[9]||(t[9]=(...o)=>d.storeData&&d.storeData(...o)),type:"submit",value:"Create New Apartment"})])])])):(m(),a("section",H,Q))}const $=_(w,[["render",W],["__scopeId","data-v-f8590bd9"]]);export{$ as default};
