import{_ as v,u as x,e as _,f as d,o,c as a,h as l,q as p,a as t,F as y,i as w,b as A,t as u,p as S,l as C}from"./index-90952cfa.js";const M={data(){return{authStore:x()}},methods:{deleteApartment(s){_.delete("/api/v1/apartment/delete/"+s.id).then(n=>{n.data.success&&this.authStore.getUsersWithApt()}).catch(n=>console.log)},async toggleVisibility(s){try{await _.get(`/api/v1/apartment/${s}/visibility`)}catch(n){console.log(n)}}},mounted(){this.authStore.getUsersWithApt()}},i=s=>(S("data-v-cbbb7bff"),s=s(),C(),s),V={class:"container"},B={key:0,class:"dashboard-section"},D=i(()=>t("a",{href:"#",id:"addApt",class:"btn btn-block text-uppercase rounded-pill shadow-sm p-2"},"Aggiungi appartamento",-1)),N={class:"main"},I={class:"row no-gutter"},L={class:"left col-md-12 col-lg-6"},E={key:0,class:"apartments-list"},H={class:"apartment-item"},W={class:"apartment-title w-100"},$=["onClick"],q=i(()=>t("button",{class:"edit-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2"},"Modifica",-1)),F=["onClick"],G=i(()=>t("div",{class:"right d-md-none d-lg-block col-lg-6"},[t("div",{class:"image"},[t("img",{src:"https://images.unsplash.com/photo-1583847268964-b28dc8f51f92?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"",class:"img-r"})])],-1)),R={key:1,class:"autenticato"},U=i(()=>t("h1",{class:"text-danger"},"Non Autenticato",-1)),j=i(()=>t("h2",null,"Effettua il Login",-1)),Y=[U,j];function z(s,n,h,b,c,r){const m=d("RouterLink"),f=d("router-link"),g=d("Map");return o(),a("div",V,[c.authStore.user?(o(),a("section",B,[l(m,{class:"add-apartment-link",to:{name:"addApt"}},{default:p(()=>[D]),_:1}),t("section",N,[t("div",I,[t("div",L,[c.authStore.apartments?(o(),a("ul",E,[(o(!0),a(y,null,w(c.authStore.apartments,e=>(o(),a("li",H,[t("span",W,u(e.title),1),t("button",{class:"delete-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2",onClick:k=>r.deleteApartment(e)},"Elimina",8,$),l(f,{class:"edit-link",to:{name:"editApt",params:{id:`${e.id}`}}},{default:p(()=>[q]),_:2},1032,["to"]),t("button",{class:"visible-button btn btn-primary btn-block text-uppercase rounded-pill shadow-sm p-2",onClick:k=>r.toggleVisibility(e.id)},u(e.visible?"Nascondi":"Mostra"),9,F),l(g,{address:e.address},null,8,["address"])]))),256))])):A("",!0)]),G])])])):(o(),a("section",R,Y))])}const K=v(M,[["render",z],["__scopeId","data-v-cbbb7bff"]]);export{K as default};
